!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("leaflet"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react","leaflet","react-dom"],t):t((e=e||self).ReactLeaflet={},e.React,e.L,e.ReactDOM)}(this,function(e,r,l,o){"use strict";var a="default"in r?r.default:r;function t(e,t){return e(t={exports:{}},t.exports),t.exports}var n,i=t(function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},t.apply(this,arguments)}e.exports=t}),s=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,l=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,i=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,p=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,y=n?Symbol.for("react.memo"):60115,h=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,E=n?Symbol.for("react.scope"):60119;function g(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case c:case u:case l:case i:case a:case d:return e;default:switch(e=e&&e.$$typeof){case p:case f:case h:case y:case s:return e;default:return t}}case r:return t}}}function w(e){return g(e)===u}t.typeOf=g,t.AsyncMode=c,t.ConcurrentMode=u,t.ContextConsumer=p,t.ContextProvider=s,t.Element=o,t.ForwardRef=f,t.Fragment=l,t.Lazy=h,t.Memo=y,t.Portal=r,t.Profiler=i,t.StrictMode=a,t.Suspense=d,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===l||e===u||e===i||e===a||e===d||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===y||e.$$typeof===s||e.$$typeof===p||e.$$typeof===f||e.$$typeof===v||e.$$typeof===b||e.$$typeof===E)},t.isAsyncMode=function(e){return w(e)||g(e)===c},t.isConcurrentMode=w,t.isContextConsumer=function(e){return g(e)===p},t.isContextProvider=function(e){return g(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return g(e)===f},t.isFragment=function(e){return g(e)===l},t.isLazy=function(e){return g(e)===h},t.isMemo=function(e){return g(e)===y},t.isPortal=function(e){return g(e)===r},t.isProfiler=function(e){return g(e)===i},t.isStrictMode=function(e){return g(e)===a},t.isSuspense=function(e){return g(e)===d}});(n=s)&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")&&n.default;s.typeOf,s.AsyncMode,s.ConcurrentMode,s.ContextConsumer,s.ContextProvider,s.Element,s.ForwardRef,s.Fragment,s.Lazy,s.Memo,s.Portal,s.Profiler,s.StrictMode,s.Suspense,s.isValidElementType,s.isAsyncMode,s.isConcurrentMode,s.isContextConsumer,s.isContextProvider,s.isElement,s.isForwardRef,s.isFragment,s.isLazy,s.isMemo,s.isPortal,s.isProfiler,s.isStrictMode,s.isSuspense;var p=t(function(e){e.exports=s}),c={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},u={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},f={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},d={};function m(e){return p.isMemo(e)?f:d[e.$$typeof]||c}d[p.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},d[p.Memo]=f;var y=Object.defineProperty,h=Object.getOwnPropertyNames,v=Object.getOwnPropertySymbols,b=Object.getOwnPropertyDescriptor,E=Object.getPrototypeOf,g=Object.prototype;function w(o){function e(t,n){return a.createElement(P,null,function(e){return a.createElement(o,i({},t,{leaflet:e,ref:n}))})}var t=o.displayName||o.name||"Component";e.displayName="Leaflet("+t+")";var n=r.forwardRef(e);return O(n,o),n}var O=function e(t,n,o){if("string"!=typeof n){if(g){var r=E(n);r&&r!==g&&e(t,r,o)}var l=h(n);v&&(l=l.concat(v(n)));for(var a=m(t),i=m(n),s=0;s<l.length;++s){var p=l[s];if(!(u[p]||o&&o[p]||i&&i[p]||a&&a[p])){var c=b(n,p);try{y(t,p,c)}catch(e){}}}}return t},C=r.createContext({}),P=C.Consumer,x=C.Provider;var _=function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t};var k=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e};var S=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},M=function(n){function e(e){var t;return t=n.call(this,e)||this,S(k(t),"leafletElement",void 0),t.leafletElement=t.createLeafletElement(t.props),t}_(e,n);var t=e.prototype;return t.createLeafletElement=function(){throw new Error("createLeafletElement() must be implemented")},t.updateLeafletElement=function(e,t){t.position!==e.position&&this.leafletElement.setPosition(t.position)},t.componentDidMount=function(){this.leafletElement.addTo(this.props.leaflet.map)},t.componentDidUpdate=function(e){this.updateLeafletElement(e,this.props)},t.componentWillUnmount=function(){this.leafletElement.remove()},t.render=function(){return null},e}(r.Component),j=w(function(e){function t(){return e.apply(this,arguments)||this}return _(t,e),t.prototype.createLeafletElement=function(e){return new l.Control.Attribution(e)},t}(M));function T(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var n,o,r,l=R(e),a=R(t);if(l&&a){if((o=e.length)!=t.length)return!1;for(n=o;0!=n--;)if(!T(e[n],t[n]))return!1;return!0}if(l!=a)return!1;var i=e instanceof Date,s=t instanceof Date;if(i!=s)return!1;if(i&&s)return e.getTime()==t.getTime();var p=e instanceof RegExp,c=t instanceof RegExp;if(p!=c)return!1;if(p&&c)return e.toString()==t.toString();var u=V(e);if((o=u.length)!==V(t).length)return!1;for(n=o;0!=n--;)if(!z.call(t,u[n]))return!1;for(n=o;0!=n--;)if(!T(e[r=u[n]],t[r]))return!1;return!0}return e!=e&&t!=t}var U=function(e,t){if(null==e)return{};var n,o,r={},l=Object.keys(e);for(o=0;o<l.length;o++)n=l[o],0<=t.indexOf(n)||(r[n]=e[n]);return r},R=Array.isArray,V=Object.keys,z=Object.prototype.hasOwnProperty;function D(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var I=function(e,t,n){return t&&D(e.prototype,t),n&&D(e,n),e},Z=/^on(.+)$/i,$=function(n){function e(e){var t;return t=n.call(this,e)||this,S(k(t),"_leafletEvents",void 0),S(k(t),"leafletElement",void 0),t._leafletEvents=t.extractLeafletEvents(e),t}_(e,n);var t=e.prototype;return t.componentDidMount=function(){this.bindLeafletEvents(this._leafletEvents)},t.componentDidUpdate=function(){this._leafletEvents=this.bindLeafletEvents(this.extractLeafletEvents(this.props),this._leafletEvents)},t.componentWillUnmount=function(){var t=this,n=this.leafletElement;n&&Object.keys(this._leafletEvents).forEach(function(e){n.off(e,t._leafletEvents[e])})},t.extractLeafletEvents=function(n){return Object.keys(n).reduce(function(e,t){Z.test(t)&&null!=n[t]&&(e[t.replace(Z,function(e,t){return t.toLowerCase()})]=n[t]);return e},{})},t.bindLeafletEvents=function(t,n){void 0===t&&(t={}),void 0===n&&(n={});var o=this.leafletElement;if(null==o||null==o.on)return{};var r=i({},n);return Object.keys(n).forEach(function(e){null!=t[e]&&n[e]===t[e]||(delete r[e],o.off(e,n[e]))}),Object.keys(t).forEach(function(e){null!=n[e]&&t[e]===n[e]||(r[e]=t[e],o.on(e,t[e]))}),r},t.fireLeafletEvent=function(e,t){var n=this.leafletElement;n&&n.fire(e,t)},e}(r.Component),N=function(e){function t(){return e.apply(this,arguments)||this}return _(t,e),t.prototype.getOptions=function(e){return null!=e.pane?e:null!=e.leaflet&&null!=e.leaflet.pane?i({},e,{pane:e.leaflet.pane}):e},t}($),B=function(n){function e(e){var t;return t=n.call(this,e)||this,S(k(t),"contextValue",void 0),S(k(t),"leafletElement",void 0),t.leafletElement=t.createLeafletElement(e),t}_(e,n);var t=e.prototype;return t.createLeafletElement=function(){throw new Error("createLeafletElement() must be implemented")},t.updateLeafletElement=function(){},t.componentDidMount=function(){n.prototype.componentDidMount.call(this),this.layerContainer.addLayer(this.leafletElement)},t.componentDidUpdate=function(e){if(n.prototype.componentDidUpdate.call(this,e),this.props.attribution!==e.attribution){var t=this.props.leaflet.map;null!=t&&null!=t.attributionControl&&(t.attributionControl.removeAttribution(e.attribution),t.attributionControl.addAttribution(this.props.attribution))}this.updateLeafletElement(e,this.props)},t.componentWillUnmount=function(){n.prototype.componentWillUnmount.call(this),this.layerContainer.removeLayer(this.leafletElement)},t.render=function(){var e=this.props.children;return null==e?null:null==this.contextValue?a.createElement(r.Fragment,null,e):a.createElement(x,{value:this.contextValue},e)},I(e,[{key:"layerContainer",get:function(){return this.props.leaflet.layerContainer||this.props.leaflet.map}}]),e}(N);function W(e){return void 0===e&&(e=""),e.split(" ").filter(Boolean)}function A(t,e){W(e).forEach(function(e){l.DomUtil.addClass(t,e)})}function F(t,e){W(e).forEach(function(e){l.DomUtil.removeClass(t,e)})}function G(e,t,n){null!=e&&n!==t&&(null!=t&&0<t.length&&F(e,t),null!=n&&0<n.length&&A(e,n))}var q=["stroke","color","weight","opacity","lineCap","lineJoin","dashArray","dashOffset","fill","fillColor","fillOpacity","fillRule","bubblingMouseEvents","renderer","className","interactive","pane","attribution"],J=function(n){function e(e){var t;return null==(t=n.call(this,e)||this).contextValue&&(t.contextValue=i({},e.leaflet,{popupContainer:t.leafletElement})),t}_(e,n);var t=e.prototype;return t.componentDidUpdate=function(e){n.prototype.componentDidUpdate.call(this,e),this.setStyleIfChanged(e,this.props)},t.getPathOptions=function(e){return n=e,q.reduce(function(e,t){return n[t]&&(e[t]=n[t]),e},{});var n},t.setStyle=function(e){void 0===e&&(e={}),this.leafletElement.setStyle(e)},t.setStyleIfChanged=function(e,t){var n=this.getPathOptions(t);T(n,this.getPathOptions(e))||this.setStyle(n)},e}(B),H=w(function(e){function t(){return e.apply(this,arguments)||this}_(t,e);var n=t.prototype;return n.createLeafletElement=function(e){var t=e.center,n=e.radius,o=U(e,["center","radius"]);return new l.Circle(t,n,this.getOptions(o))},n.updateLeafletElement=function(e,t){t.center!==e.center&&this.leafletElement.setLatLng(t.center),t.radius!==e.radius&&this.leafletElement.setRadius(t.radius)},t}(J)),K=w(function(e){function t(){return e.apply(this,arguments)||this}_(t,e);var n=t.prototype;return n.createLeafletElement=function(e){var t=new l.CircleMarker(e.center,this.getOptions(e));return this.contextValue=i({},e.leaflet,{popupContainer:t}),t},n.updateLeafletElement=function(e,t){t.center!==e.center&&this.leafletElement.setLatLng(t.center),t.radius!==e.radius&&this.leafletElement.setRadius(t.radius)},t}(J)),Y=function(n){function e(e){var t;return t=n.call(this,e)||this,S(k(t),"onClose",function(){t.props.onClose&&t.props.onClose()}),S(k(t),"onOpen",function(){t.forceUpdate(),t.props.onOpen&&t.props.onOpen()}),t.leafletElement=t.createLeafletElement(e),t}_(e,n);var t=e.prototype;return t.createLeafletElement=function(){throw new Error("createLeafletElement() must be implemented")},t.updateLeafletElement=function(){},t.componentDidUpdate=function(e){G(this.leafletElement._container,e.className,this.props.className),this.updateLeafletElement(e,this.props),this.leafletElement.isOpen()&&(this.leafletElement.update(),this.onRender())},t.onRender=function(){},t.render=function(){return this.leafletElement._contentNode?o.createPortal(this.props.children,this.leafletElement._contentNode):null},e}(N),Q=w(function(e){function t(){return e.apply(this,arguments)||this}_(t,e);var n=t.prototype;return n.createLeafletElement=function(e){var t=new l.FeatureGroup(this.getOptions(e));return this.contextValue=i({},e.leaflet,{layerContainer:t,popupContainer:t}),t},n.componentDidMount=function(){e.prototype.componentDidMount.call(this),this.setStyle(this.props)},t}(J)),X=w(function(e){function t(){return e.apply(this,arguments)||this}_(t,e);var n=t.prototype;return n.createLeafletElement=function(e){return new l.GeoJSON(e.data,this.getOptions(e))},n.updateLeafletElement=function(e,t){"function"==typeof t.style?this.setStyle(t.style):this.setStyleIfChanged(e,t)},t}(J)),ee=function(n){function e(){return n.apply(this,arguments)||this}_(e,n);var t=e.prototype;return t.createLeafletElement=function(e){return new l.GridLayer(this.getOptions(e))},t.updateLeafletElement=function(e,t){var n=t.opacity,o=t.zIndex;n!==e.opacity&&this.leafletElement.setOpacity(n),o!==e.zIndex&&this.leafletElement.setZIndex(o)},t.getOptions=function(e){var t=n.prototype.getOptions.call(this,e);return null==e.leaflet.map?t:i({maxZoom:e.leaflet.map.options.maxZoom,minZoom:e.leaflet.map.options.minZoom},t)},t.render=function(){return null},e}(B),te=w(function(e){function t(){return e.apply(this,arguments)||this}_(t,e);var n=t.prototype;return n.createLeafletElement=function(e){var t=new l.ImageOverlay(e.url,e.bounds,this.getOptions(e));return this.contextValue=i({},e.leaflet,{popupContainer:t}),t},n.updateLeafletElement=function(e,t){t.url!==e.url&&this.leafletElement.setUrl(t.url),t.bounds!==e.bounds&&this.leafletElement.setBounds(l.latLngBounds(t.bounds)),t.opacity!==e.opacity&&this.leafletElement.setOpacity(t.opacity),t.zIndex!==e.zIndex&&this.leafletElement.setZIndex(t.zIndex)},t}(B)),ne=w(function(e){function t(){return e.apply(this,arguments)||this}return _(t,e),t.prototype.createLeafletElement=function(e){var t=new l.LayerGroup([],this.getOptions(e));return this.contextValue=i({},e.leaflet,{layerContainer:t}),t},t}(B)),oe=function(r){function e(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n))||this,S(k(e),"contextValue",void 0),S(k(e),"layer",void 0),e}_(e,r);var t=e.prototype;return t.componentDidUpdate=function(e){var t=e.checked;null!=this.props.leaflet.map&&(!0!==this.props.checked||null!=t&&!1!==t?!0!==t||null!=this.props.checked&&!1!==this.props.checked||this.props.leaflet.map.removeLayer(this.layer):this.props.leaflet.map.addLayer(this.layer))},t.componentWillUnmount=function(){this.props.removeLayerControl(this.layer)},t.addLayer=function(){throw new Error("Must be implemented in extending class")},t.removeLayer=function(e){this.props.removeLayer(e)},t.render=function(){var e=this.props.children;return e?a.createElement(x,{value:this.contextValue},e):null},e}(r.Component),re=function(t){function e(e){var r;return r=t.call(this,e)||this,S(k(r),"addLayer",function(e){r.layer=e;var t=r.props,n=t.addBaseLayer,o=t.checked;n(e,t.name,o)}),r.contextValue=i({},e.leaflet,{layerContainer:{addLayer:r.addLayer.bind(k(r)),removeLayer:r.removeLayer.bind(k(r))}}),r}return _(e,t),e}(oe),le=function(t){function e(e){var r;return r=t.call(this,e)||this,S(k(r),"addLayer",function(e){r.layer=e;var t=r.props,n=t.addOverlay,o=t.checked;n(e,t.name,o)}),r.contextValue=i({},e.leaflet,{layerContainer:{addLayer:r.addLayer.bind(k(r)),removeLayer:r.removeLayer.bind(k(r))}}),r}return _(e,t),e}(oe),ae=w(function(n){function e(e){var t;return t=n.call(this,e)||this,S(k(t),"controlProps",void 0),t.controlProps={addBaseLayer:t.addBaseLayer.bind(k(t)),addOverlay:t.addOverlay.bind(k(t)),leaflet:e.leaflet,removeLayer:t.removeLayer.bind(k(t)),removeLayerControl:t.removeLayerControl.bind(k(t))},t}_(e,n);var t=e.prototype;return t.createLeafletElement=function(e){e.children;var t=U(e,["children"]);return new l.Control.Layers(void 0,void 0,t)},t.updateLeafletElement=function(e,t){n.prototype.updateLeafletElement.call(this,e,t),t.collapsed!==e.collapsed&&(!0===t.collapsed?this.leafletElement.collapse():this.leafletElement.expand())},t.componentWillUnmount=function(){var e=this;setTimeout(function(){n.prototype.componentWillUnmount.call(e)},0)},t.addBaseLayer=function(e,t,n){void 0===n&&(n=!1),n&&null!=this.props.leaflet.map&&this.props.leaflet.map.addLayer(e),this.leafletElement.addBaseLayer(e,t)},t.addOverlay=function(e,t,n){void 0===n&&(n=!1),n&&null!=this.props.leaflet.map&&this.props.leaflet.map.addLayer(e),this.leafletElement.addOverlay(e,t)},t.removeLayer=function(e){null!=this.props.leaflet.map&&this.props.leaflet.map.removeLayer(e)},t.removeLayerControl=function(e){this.leafletElement.removeLayer(e)},t.render=function(){var t=this,e=r.Children.map(this.props.children,function(e){return e?r.cloneElement(e,t.controlProps):null});return a.createElement(r.Fragment,null,e)},e}(M));function ie(n){for(var e=arguments.length,o=new Array(1<e?e-1:0),t=1;t<e;t++)o[t-1]=arguments[t];return Object.keys(n).reduce(function(e,t){return-1===o.indexOf(t)&&(e[t]=n[t]),e},{})}ae.BaseLayer=re,ae.Overlay=le;function se(){}function pe(){}pe.resetWarningCache=se;var ce=t(function(e){function t(e,t,n,o,r,l){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==l){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function n(){return t}var o;e.exports=(o={array:t.isRequired=t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:n,element:t,elementType:t,instanceOf:n,node:t,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:pe,resetWarningCache:se}).PropTypes=o}),ue="__react_css_component_cache",fe="__react_css_component_id-",de=function(e,t,n){return t&&me(e.prototype,t),n&&me(e,n),e};function me(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function he(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,he);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(he.__proto__||Object.getPrototypeOf(he)).call(this,e,t));return n.cache={},n}function ve(e,t){if(!document.head.querySelector("#"+e)){var n=document.createElement("style");n.textContent=t,n.type="text/css",n.id=e,document.head.appendChild(n)}}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(he,r.Component),de(he,[{key:"getChildContext",value:function(){return ye({},ue,this.cache)}},{key:"render",value:function(){return this.props.children}}]),he).childContextTypes=ye({},ue,ce.object);var be=function(e,t,n){return t&&Ee(e.prototype,t),n&&Ee(e,n),e};function Ee(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var ge,we,Le,Oe={},Ce=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Pe,r.Component),be(Pe,[{key:"componentWillUnmount",value:function(){if(this.isFirstOccurence){var e=this.props.css;ve(Oe[e],e)}}},{key:"render",value:function(){return this.isFirstOccurence?r.createElement("style",{dangerouslySetInnerHTML:{__html:this.props.css}}):null}}]),Pe);function Pe(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Pe);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Pe.__proto__||Object.getPrototypeOf(Pe)).call(this,e,t));if(!Oe[e.css]){var o=Object.keys(Oe).length;Oe[e.css]=fe+o}return t[ue]?t[ue][e.css]||(t[ue][e.css]=!0,n.isFirstOccurence=!0):n.isFirstOccurence=!0,n}function xe(){return"undefined"!=typeof window&&"undefined"!=typeof document&&document.head}Ce.contextTypes=(ge={},we=ue,Le=ce.object,we in ge?Object.defineProperty(ge,we,{value:Le,enumerable:!0,configurable:!0,writable:!0}):ge[we]=Le,ge);var _e=function(e,t,n){return t&&ke(e.prototype,t),n&&ke(e,n),e};function ke(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var Se={};(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(Me,r.Component),_e(Me,[{key:"componentDidMount",value:function(){!this.isReady&&xe()&&ve(Se[this.props.css],this.props.css)}},{key:"render",value:function(){return null}}]);function Me(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Me);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Me.__proto__||Object.getPrototypeOf(Me)).call(this,e,t));if(!Se[e.css]){var o=Object.keys(Se).length;Se[e.css]=fe+o}return xe()&&(ve(Se[e.css],e.css),n.isReady=!0),n}function je(e){return Array.isArray(e)?[e[0],e[1]]:[e.lat,e.lon?e.lon:e.lng]}var Te="\n    #windy #map-container {\n      z-index: 0;\n    }\n\n    #windy .leaflet-tile-pane .overlay-layer,\n    #windy #map-container .leaflet-tile-pane .particles-layer {\n      z-index: 1000 !important;\n      display: none !important;\n    }\n\n    #windy .leaflet-tile-pane .basemap-layer {\n      display: none;\n      z-index: 1 !important;\n    }\n\n    #windy #map-container .labels-layer [data-id].city-1, \n    #windy #map-container .labels-layer [data-id].city-2, \n    #windy #map-container .labels-layer [data-id].city-3, \n    #windy #map-container .labels-layer [data-id].city-4,\n    #windy #map-container .labels-layer [data-id].country-1,\n    #windy #map-container .labels-layer [data-id].country-2 {\n      display: none;\n    }\n\n    #windy #map-container .leaflet-control-container {\n      display: block;\n    }\n    ",Ue="\n    #windy .leaflet-tile-pane .overlay-layer,\n    #windy #map-container .leaflet-tile-pane .particles-layer {\n      display: block !important;\n    }\n\n    #windy .leaflet-tile-pane .basemap-layer {\n      display: block;\n    }\n\n    #windy #map-container .labels-layer [data-id].city-1, \n    #windy #map-container .labels-layer [data-id].city-2, \n    #windy #map-container .labels-layer [data-id].city-3, \n    #windy #map-container .labels-layer [data-id].city-4,\n    #windy #map-container .labels-layer [data-id].country-1,\n    #windy #map-container .labels-layer [data-id].country-2 {\n      display: block;\n    }\n\n    #windy #mobile-ovr-select,\n    #windy #embed-zoom,\n    #windy #bottom {\n      display: block;\n    }\n    ",Re="\n    #windy #map-container .labels-layer [data-id].city-1, \n    #windy #map-container .labels-layer [data-id].city-2, \n    #windy #map-container .labels-layer [data-id].city-3, \n    #windy #map-container .labels-layer [data-id].city-4,\n    #windy #map-container .labels-layer [data-id].country-1,\n    #windy #map-container .labels-layer [data-id].country-2 {\n      display: none !important;\n    }\n    ",Ve="\n    #windy #mobile-ovr-select,\n    #windy #embed-zoom,\n    #windy #bottom {\n      display: none !important;\n    }\n    ",ze=function(e){return"\n    #windy .leaflet-tile-pane .overlay-layer {\n      opacity: "+e+" !important;\n    }\n    "},De=["children","className","id","style","useFlyTo","whenReady"],Ie=function(i){function e(e){var t;return t=i.call(this,e)||this,S(k(t),"className",void 0),S(k(t),"contextValue",void 0),S(k(t),"container",void 0),S(k(t),"viewport",{center:void 0,zoom:void 0}),S(k(t),"windyStore",null),S(k(t),"windyPicker",null),S(k(t),"windyBroadcast",null),S(k(t),"_windyMapReady",!1),S(k(t),"_ready",!1),S(k(t),"_updating",!1),S(k(t),"_windyParticleLayer",null),S(k(t),"onViewportChange",function(){var e=t.leafletElement.getCenter();t.viewport={center:e?[e.lat,e.lng]:void 0,zoom:t.leafletElement.getZoom()},t.props.onViewportChange&&!t._updating&&t.props.onViewportChange(t.viewport)}),S(k(t),"onViewportChanged",function(){t.props.onViewportChanged&&!t._updating&&t.props.onViewportChanged(t.viewport)}),S(k(t),"bindContainer",function(e){t.container=e}),t.className=e.className,t}_(e,i);var t=e.prototype;return t.updateLeafletElement=function(e,t){this._updating=!0;var n=t.animate,o=t.bounds,r=t.boundsOptions,l=t.boxZoom,a=t.center,i=t.className,s=t.doubleClickZoom,p=t.dragging,c=t.keyboard,u=t.maxBounds,f=t.scrollWheelZoom,d=t.tap,m=t.touchZoom,y=t.useFlyTo,h=t.viewport,v=t.zoom,b=t.overlay,E=t.level,g=t.timestamp,w=t.favOverlays,L=t.product,O=t.graticule,C=t.particlesAnim,P=t.pickerPosition;if(G(this.container,e.className,i),h&&h!==e.viewport){var x=h.center?h.center:a,_=null==h.zoom?v:h.zoom;!0===y?this.leafletElement.flyTo(x,_,{animate:n}):this.leafletElement.setView(x,_,{animate:n})}else a&&this.shouldUpdateCenter(a,e.center)?!0===y?this.leafletElement.flyTo(a,v,{animate:n}):this.leafletElement.setView(a,v,{animate:n}):"number"==typeof v&&v!==e.zoom&&(null==e.zoom?this.leafletElement.setView(a,v):this.leafletElement.setZoom(v));u&&this.shouldUpdateBounds(u,e.maxBounds)&&this.leafletElement.setMaxBounds(u),o&&(this.shouldUpdateBounds(o,e.bounds)||r!==e.boundsOptions)&&(!0===y?this.leafletElement.flyToBounds(o,r):this.leafletElement.fitBounds(o,r)),l!==e.boxZoom&&(!0===l?this.leafletElement.boxZoom.enable():this.leafletElement.boxZoom.disable()),s!==e.doubleClickZoom&&(!0===s?this.leafletElement.doubleClickZoom.enable():this.leafletElement.doubleClickZoom.disable()),p!==e.dragging&&(!0===p?this.leafletElement.dragging.enable():this.leafletElement.dragging.disable()),c!==e.keyboard&&(!0===c?this.leafletElement.keyboard.enable():this.leafletElement.keyboard.disable()),f!==e.scrollWheelZoom&&(!0===f||"string"==typeof f?(this.leafletElement.options.scrollWheelZoom=f,this.leafletElement.scrollWheelZoom.enable()):this.leafletElement.scrollWheelZoom.disable()),d!==e.tap&&(!0===d?this.leafletElement.tap.enable():this.leafletElement.tap.disable()),m!==e.touchZoom&&(!0===m||"string"==typeof m?(this.leafletElement.options.touchZoom=m,this.leafletElement.touchZoom.enable()):this.leafletElement.touchZoom.disable()),b!==e.overlay&&("none"===b?this.windyStore.set("overlay","wind"):this.windyStore.set("overlay",b)),E!==e.level&&this.windyStore.set("level",E),g!==e.timestamp&&this.windyStore.set("timestamp",g),w!==e.favOverlays&&this.windyStore.set("favOverlays",w),L!==e.product&&this.windyStore.set("overlay",L),O!==e.graticule&&this.windyStore.set("graticule",O),C!==e.particlesAnim&&this.windyStore.set("particlesAnim",C),e.pickerPosition&&!P&&this.windyPicker.close(),(!e.pickerPosition&&P||e.pickerPosition&&P&&(e.pickerPosition[0]!==P[0]||e.pickerPosition[1]!==P[1]))&&this.windyPicker.open({lat:P[0],lon:P[1]}),this._updating=!1},t.componentDidMount=function(){var l=this,a=ie.apply(void 0,[this.props].concat(De));a.key=a.windyKey,"none"===a.overlay&&(a.overlay="wind");var e=a.viewport,t=U(a,["viewport"]);e&&(e.center&&(t.center=e.center),"number"==typeof e.zoom&&(t.zoom=e.zoom));var n=document.createElement("script");n.src="https://api.windy.com/assets/map-forecast/libBoot.js",n.async=!0,n.onload=function(){windyInit(t,function(e){var t=e.map,n=e.store,o=e.picker,r=e.broadcast;l.windyStore=n,l.windyPicker=o,l.windyBroadcast=r,l.leafletElement=t,l.leafletElement.options.maxZoom=a.maxZoom||18,l.leafletElement.options.minZoom=a.minZoom||2,l.leafletElement.on("move",l.onViewportChange),l.leafletElement.on("moveend",l.onViewportChanged),a.onPickerOpened&&o.on("pickerOpened",function(e){return a.onPickerOpened(e)}),a.onPickerMoved&&o.on("pickerMoved",function(e){return a.onPickerMoved(e)}),a.onPickerClosed&&o.on("pickerClosed",function(){return a.onPickerClosed()}),a.center&&a.zoom&&(Array.isArray(a.center)?l.leafletElement.setView(new L.LatLng(a.center[0],a.center[1]),a.zoom):l.leafletElement.setView(new L.LatLng(a.center.lat,a.center.lng),a.zoom)),null!=a.bounds&&l.leafletElement.fitBounds(a.bounds,a.boundsOptions),r.once("redrawFinished",function(){a.removeWindyLayers&&l.leafletElement.eachLayer(function(e){e._url&&e._url.includes("windy")?l.leafletElement.removeLayer(e):e.tilesUrl&&e.tilesUrl.includes("windy")&&l.leafletElement.removeLayer(e)}),a.pickerPosition&&o.open({lat:a.pickerPosition[0],lon:a.pickerPosition[1]}),l.contextValue={layerContainer:l.leafletElement,map:l.leafletElement},l._windyMapReady=!0,l.props.onWindyMapReady&&l.props.onWindyMapReady(),i.prototype.componentDidMount.call(l),l.forceUpdate()})})},document.body.appendChild(n)},t.componentDidUpdate=function(e){!1===this._ready&&(this._ready=!0,this.props.whenReady&&this.leafletElement.whenReady(this.props.whenReady)),this.leafletElement&&(i.prototype.componentDidUpdate.call(this,e),this.updateLeafletElement(e,this.props))},t.componentWillUnmount=function(){i.prototype.componentWillUnmount.call(this),this.leafletElement&&(this.leafletElement.off("move",this.onViewportChange),this.leafletElement.off("moveend",this.onViewportChanged),!0===this.props.preferCanvas?(this.leafletElement._initEvents(!0),this.leafletElement._stop()):this.leafletElement.remove())},t.shouldUpdateCenter=function(e,t){return!t||(e=je(e),t=je(t),e[0]!==t[0]||e[1]!==t[1])},t.shouldUpdateBounds=function(e,t){return!t||!l.latLngBounds(e).equals(l.latLngBounds(t))},t.render=function(){var e=this.props,t=e.windyLabels,n=e.windyControls,o=e.overlay,r=e.overlayOpacity;return a.createElement(a.Fragment,null,a.createElement(Ce,{css:Te}),"none"!==o&&a.createElement(Ce,{css:Ue}),r&&a.createElement(Ce,{css:ze(r)}),!t&&a.createElement(Ce,{css:Re}),!n&&a.createElement(Ce,{css:Ve}),a.createElement("div",{className:this.className,id:"windy",ref:this.bindContainer,style:this.props.style},this.contextValue?a.createElement(x,{value:this.contextValue},this._windyMapReady&&this.props.mapElements):null))},e}($),Ze=w(function(e){function t(){return e.apply(this,arguments)||this}_(t,e);var n=t.prototype;return n.createLeafletElement=function(e){var t=new l.Marker(e.position,this.getOptions(e));return this.contextValue=i({},e.leaflet,{popupContainer:t}),t},n.updateLeafletElement=function(e,t){t.position!==e.position&&this.leafletElement.setLatLng(t.position),t.icon!==e.icon&&this.leafletElement.setIcon(t.icon),t.zIndexOffset!==e.zIndexOffset&&this.leafletElement.setZIndexOffset(t.zIndexOffset),t.opacity!==e.opacity&&this.leafletElement.setOpacity(t.opacity),t.draggable!==e.draggable&&(!0===t.draggable?this.leafletElement.dragging.enable():this.leafletElement.dragging.disable())},n.render=function(){var e=this.props.children;return null==e||null==this.contextValue?null:a.createElement(x,{value:this.contextValue},e)},t}(B)),$e=0,Ne=["tile","shadow","overlay","map","marker","tooltip","popup"],Be=/-*pane/gi,We={position:"absolute",top:0,right:0,bottom:0,left:0},Ae=w(function(o){function e(){for(var l,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l=o.call.apply(o,[this].concat(t))||this,S(k(l),"state",{name:void 0,context:void 0}),S(k(l),"setStyle",function(e){var t=void 0===e?l.props:e,n=t.style,o=t.className,r=l.getPane(l.state.name);r&&(o&&A(r,o),n&&Object.keys(n).forEach(function(e){r.style[e]=n[e]}))}),l}_(e,o);var t=e.prototype;return t.componentDidMount=function(){this.createPane(this.props)},t.componentDidUpdate=function(e){if(this.state.name)if(this.props.name!==e.name)this.removePane(),this.createPane(this.props);else{if(e.className&&this.props.className!==e.className){var t=this.getPane(this.state.name);null!=t&&null!=e.className&&F(t,e.className)}this.setStyle(this.props)}},t.componentWillUnmount=function(){this.removePane()},t.createPane=function(e){var t,n=e.leaflet.map,o=e.name||"pane-"+ ++$e;null!=n&&null!=n.createPane&&(null==((t=o,-1!==Ne.indexOf(t.replace(Be,"")))||this.getPane(o))&&n.createPane(o,this.getParentPane()),this.setState({name:o,context:i({},e.leaflet,{pane:o})},this.setStyle))},t.removePane=function(){var e=this.state.name;if(null!=e){var t=this.getPane(e);null!=t&&t.remove&&t.remove();var n=this.props.leaflet.map;null!=n&&null!=n._panes&&(n._panes=ie(n._panes,e),n._paneRenderers=ie(n._paneRenderers,e))}},t.getParentPane=function(){return this.getPane(this.props.pane||this.props.leaflet.pane)},t.getPane=function(e){if(null!=e&&null!=this.props.leaflet.map)return this.props.leaflet.map.getPane(e)},t.render=function(){var e=this.state.context;return e?a.createElement(x,{value:e},a.createElement("div",{style:We},this.props.children)):null},e}(r.Component)),Fe=w(function(e){function t(){return e.apply(this,arguments)||this}_(t,e);var n=t.prototype;return n.createLeafletElement=function(e){return new l.Polygon(e.positions,this.getOptions(e))},n.updateLeafletElement=function(e,t){t.positions!==e.positions&&this.leafletElement.setLatLngs(t.positions),this.setStyleIfChanged(e,t)},t}(J)),Ge=w(function(e){function t(){return e.apply(this,arguments)||this}_(t,e);var n=t.prototype;return n.createLeafletElement=function(e){return new l.Polyline(e.positions,this.getOptions(e))},n.updateLeafletElement=function(e,t){t.positions!==e.positions&&this.leafletElement.setLatLngs(t.positions),this.setStyleIfChanged(e,t)},t}(J)),qe=function(r){function e(){for(var t,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t=r.call.apply(r,[this].concat(n))||this,S(k(t),"onPopupOpen",function(e){e.popup===t.leafletElement&&t.onOpen()}),S(k(t),"onPopupClose",function(e){e.popup===t.leafletElement&&t.onClose()}),S(k(t),"onRender",function(){!1!==t.props.autoPan&&t.leafletElement.isOpen()&&(t.leafletElement._map&&t.leafletElement._map._panAnim&&(t.leafletElement._map._panAnim=void 0),t.leafletElement._adjustPan())}),t}_(e,r);var t=e.prototype;return t.getOptions=function(e){return i({},r.prototype.getOptions.call(this,e),{autoPan:!1})},t.createLeafletElement=function(e){var t=this.getOptions(e);return t.autoPan=!1!==e.autoPan,new l.Popup(t,e.leaflet.popupContainer)},t.updateLeafletElement=function(e,t){t.position!==e.position&&this.leafletElement.setLatLng(t.position)},t.componentDidMount=function(){var e=this.props.position,t=this.props.leaflet,n=t.map,o=t.popupContainer,r=this.leafletElement;null!=n&&n.on({popupopen:this.onPopupOpen,popupclose:this.onPopupClose}),o?o.bindPopup(r):(e&&r.setLatLng(e),r.openOn(n))},t.componentWillUnmount=function(){var e=this.props.leaflet.map;null!=e&&(e.off({popupopen:this.onPopupOpen,popupclose:this.onPopupClose}),e.removeLayer(this.leafletElement)),r.prototype.componentWillUnmount.call(this)},e}(Y);S(qe,"defaultProps",{pane:"popupPane"});var Je=w(qe),He=w(function(e){function t(){return e.apply(this,arguments)||this}_(t,e);var n=t.prototype;return n.createLeafletElement=function(e){return new l.Rectangle(e.bounds,this.getOptions(e))},n.updateLeafletElement=function(e,t){t.bounds!==e.bounds&&this.leafletElement.setBounds(t.bounds),this.setStyleIfChanged(e,t)},t}(J)),Ke=w(function(e){function t(){return e.apply(this,arguments)||this}return _(t,e),t.prototype.createLeafletElement=function(e){return new l.Control.Scale(e)},t}(M)),Ye=w(function(n){function e(){return n.apply(this,arguments)||this}_(e,n);var t=e.prototype;return t.createLeafletElement=function(e){return new l.TileLayer(e.url,this.getOptions(e))},t.updateLeafletElement=function(e,t){n.prototype.updateLeafletElement.call(this,e,t),t.url!==e.url&&this.leafletElement.setUrl(t.url)},e}(ee)),Qe=function(r){function e(){for(var t,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t=r.call.apply(r,[this].concat(n))||this,S(k(t),"onTooltipOpen",function(e){e.tooltip===t.leafletElement&&t.onOpen()}),S(k(t),"onTooltipClose",function(e){e.tooltip===t.leafletElement&&t.onClose()}),t}_(e,r);var t=e.prototype;return t.createLeafletElement=function(e){return new l.Tooltip(this.getOptions(e),e.leaflet.popupContainer)},t.componentDidMount=function(){var e=this.props.leaflet.popupContainer;null!=e&&(e.on({tooltipopen:this.onTooltipOpen,tooltipclose:this.onTooltipClose}),e.bindTooltip(this.leafletElement))},t.componentWillUnmount=function(){var e=this.props.leaflet.popupContainer;null!=e&&(e.off({tooltipopen:this.onTooltipOpen,tooltipclose:this.onTooltipClose}),null!=e._map&&e.unbindTooltip(this.leafletElement))},e}(Y);S(Qe,"defaultProps",{pane:"tooltipPane"});var Xe=w(Qe),et=w(function(e){function t(){return e.apply(this,arguments)||this}_(t,e);var n=t.prototype;return n.createLeafletElement=function(e){return new l.VideoOverlay(e.url,e.bounds,this.getOptions(e))},n.componentDidMount=function(){e.prototype.componentDidMount.call(this),!0===this.props.play&&this.leafletElement.getElement().play()},n.updateLeafletElement=function(e,t){t.url!==e.url&&this.leafletElement.setUrl(t.url),t.bounds!==e.bounds&&this.leafletElement.setBounds(l.latLngBounds(t.bounds)),t.opacity!==e.opacity&&this.leafletElement.setOpacity(t.opacity),t.zIndex!==e.zIndex&&this.leafletElement.setZIndex(t.zIndex),!0!==t.play||e.play?t.play||!0!==e.play||this.leafletElement.getElement().pause():this.leafletElement.getElement().play()},t}(B)),tt=w(function(a){function e(){return a.apply(this,arguments)||this}_(e,a);var t=e.prototype;return t.createLeafletElement=function(e){var t=e.url,n=U(e,["url"]);return new l.TileLayer.WMS(t,this.getOptions(n))},t.updateLeafletElement=function(e,t){a.prototype.updateLeafletElement.call(this,e,t);var n=e.url,o=(e.opacity,e.zIndex,U(e,["url","opacity","zIndex"])),r=t.url,l=(t.opacity,t.zIndex,U(t,["url","opacity","zIndex"]));r!==n&&this.leafletElement.setUrl(r),T(l,o)||this.leafletElement.setParams(l)},t.getOptions=function(e){var n=a.prototype.getOptions.call(this,e);return Object.keys(n).reduce(function(e,t){return Z.test(t)||(e[t]=n[t]),e},{})},e}(ee)),nt=w(function(e){function t(){return e.apply(this,arguments)||this}return _(t,e),t.prototype.createLeafletElement=function(e){return new l.Control.Zoom(e)},t}(M));e.AttributionControl=j,e.Circle=H,e.CircleMarker=K,e.ControlledLayer=oe,e.DivOverlay=Y,e.FeatureGroup=Q,e.GeoJSON=X,e.GridLayer=ee,e.ImageOverlay=te,e.LayerGroup=ne,e.LayersControl=ae,e.LeafletConsumer=P,e.LeafletProvider=x,e.Map=Ie,e.MapComponent=N,e.MapControl=M,e.MapEvented=$,e.MapLayer=B,e.Marker=Ze,e.Pane=Ae,e.Path=J,e.Polygon=Fe,e.Polyline=Ge,e.Popup=Je,e.Rectangle=He,e.ScaleControl=Ke,e.TileLayer=Ye,e.Tooltip=Xe,e.VideoOverlay=et,e.WMSTileLayer=tt,e.ZoomControl=nt,e.useLeaflet=function(){return r.useContext(C)},e.withLeaflet=w,Object.defineProperty(e,"__esModule",{value:!0})});
